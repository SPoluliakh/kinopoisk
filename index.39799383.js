function e(e){return e&&e.__esModule?e.default:e}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},r={},o=t.parcelRequire3789;null==o&&((o=function(e){if(e in n)return n[e].exports;if(e in r){var t=r[e];delete r[e];var o={id:e,exports:{}};return n[e]=o,t.call(o.exports,o,o.exports),o.exports}var s=new Error("Cannot find module '"+e+"'");throw s.code="MODULE_NOT_FOUND",s}).register=function(e,t){r[e]=t},t.parcelRequire3789=o);var s=o("AFyA5");o("kKZR4");var a,i=o("5Y3BN"),l=o("1CpbH"),c=o("hc5U3"),d=o("3ILHO"),u=o("fb9GJ"),f=(d=o("3ILHO"),o("6TDp9")),p=o("bnlKQ"),v=(l=o("1CpbH"),o("kKZR4")),h=o("bHKmf");function L(e,t,n){var r,o,s,a,i;function l(){var c=Date.now()-a;c<t&&c>=0?r=setTimeout(l,t-c):(r=null,n||(i=e.apply(s,o),s=o=null))}null==t&&(t=100);var c=function(){s=this,o=arguments,a=Date.now();var c=n&&!r;return r||(r=setTimeout(l,t)),c&&(i=e.apply(s,o),s=o=null),i};return c.clear=function(){r&&(clearTimeout(r),r=null)},c.flush=function(){r&&(i=e.apply(s,o),s=o=null,clearTimeout(r),r=null)},c}L.debounce=L,a=L;c=o("hc5U3");let m;async function R(e){const t=e.page;localStorage.setItem("page",t);const n=await(0,f.getBySearchName)(m,t),{results:r}=n.data;console.log(n.data);const o=(0,l.getGenreOptions)()??[],s=(0,p.makeMovieList)(r,o);d.listRef.innerHTML=s,document.documentElement.scrollTo({top:0,behavior:"smooth"})}d.searchFormRef.addEventListener("submit",(async function(t){if(t.preventDefault(),m=t.currentTarget.searchQuery.value.trim(),(0,h.startSpinner)(),!m)return void(0,h.stopSpinner)();const n=await(0,f.getBySearchName)(m),{results:r,total_results:o}=n.data,s=(0,v.makePaginationOptions)(o);if(0===r.length)return d.errorRef.classList.add("show-error"),setTimeout((()=>{d.errorRef.classList.remove("show-error")}),3e3),void(0,h.stopSpinner)();(0,h.stopSpinner)(),d.errorRef.classList.remove("show-error");const a=(0,l.getGenreOptions)()??[],i=(0,p.makeMovieList)(r,a);d.listRef.innerHTML=i,d.searchListRef.innerHTML="";try{v.pagination.reset(),v.pagination.off("afterMove",v.updateMoviesList);const t=new(e(u))(d.paginationContainer,s);t.off("afterMove",R),t.on("afterMove",R)}catch(e){console.log(e)}})),d.searchInputRef.addEventListener("input",(0,a.debounce)((async function(e){if(d.searchListRef.classList.remove("visually-hidden"),d.searchListRef.innerHTML="",d.backdropRef.style.display="block",m=e.target.value.trim(),!m)return void d.searchListRef.classList.add("visually-hidden");(0,h.startSpinner)();const t=await(0,f.getBySearchName)(m);(0,h.stopSpinner)();const{results:n}=t.data;if(0===n.length)return d.errorRef.classList.add("show-error"),void setTimeout((()=>{d.errorRef.classList.remove("show-error")}),3e3);d.searchListRef.insertAdjacentHTML("beforeend",function(e){let t="";return e.forEach((({title:e,id:n,release_date:r})=>t+=`<li class="search-list-item" data-id=${n}>${e} <span class="release-date">(${r?r.slice(0,4):"no info"})</span></li>`)),t}(n.slice(0,5)))}),500)),d.searchListRef.addEventListener("click",(e=>{d.backdropRef.style.display="block",(0,c.openMovieInfo)(e)})),d.cleanButtonRef.addEventListener("click",(function(){d.searchInputRef.value="",d.searchListRef.innerHTML="",d.searchInputRef.focus()})),o("57NIG"),o("kKZR4"),o("dNLRB");var y=o("aOITw");s=o("AFyA5");document.addEventListener("DOMContentLoaded",(()=>{(0,l.setGenreOptions)(),(0,i.moviesListMarkupFirstRender)(),d.listRef.addEventListener("click",(e=>{d.backdropRef.style.display="block",(0,c.openMovieInfo)(e)})),y.btnUp.addEventListener(),(0,s.darkmode)()}));
//# sourceMappingURL=index.39799383.js.map
